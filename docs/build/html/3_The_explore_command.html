

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>3. The explore command &mdash; snpToolkit  documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="4. The annotate command" href="4_The_annotate_command.html" />
    <link rel="prev" title="2. snpToolkit menu" href="2_snpToolkit_menu.html" />
    <link href="_static/style.css" rel="stylesheet" type="text/css">

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> snpToolkit
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="1_How_to_Install.html">1. How to Install</a></li>
<li class="toctree-l1"><a class="reference internal" href="2_snpToolkit_menu.html">2. snpToolkit menu</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">3. The explore command</a></li>
<li class="toctree-l1"><a class="reference internal" href="4_The_annotate_command.html">4. The annotate command</a></li>
<li class="toctree-l1"><a class="reference internal" href="5_The_viz_command.html">5. The viz command</a></li>
<li class="toctree-l1"><a class="reference internal" href="6_The_combine_command.html">6. The combine command</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">snpToolkit</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li><span class="section-number">3. </span>The explore command</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/3_The_explore_command.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="the-explore-command">
<h1><span class="section-number">3. </span>The explore command<a class="headerlink" href="#the-explore-command" title="Permalink to this headline">¶</a></h1>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>snptoolkit explore -h
usage: snptoolkit explore <span class="o">[</span>-h<span class="o">]</span> -i IDENTIFIER

optional arguments:
  -h, --help     show this <span class="nb">help</span> message and <span class="nb">exit</span>

snpToolkit explore required options:
  -i IDENTIFIER  Provide the input vcf files
</pre></div>
</div>
<p>This command allows user to explore the SNPs on each of their vcf files.</p>
<p>The option -i  allows to specify a common identifier in the vcf files names. If you want to explore all VCF files in a folder, you can use vcf  as identifier as it is present in all vcf file names (usually filename.vcf.gz). On the contrary, if you have added in the filenames of your vcf files, for example, the years of isolation of each sample, you can use the year you want as identifier.</p>
<p>when you run the command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ snptoolkit explore -i vcf
<span class="o">[</span>TIME<span class="o">][</span>INFO<span class="o">]</span> <span class="o">[</span>snpToolkit is extracting your data and creating the different plots...<span class="o">]</span>
progress: <span class="m">100</span>%<span class="p">|</span><span class="c1">#########################################################################| 9/9 [00:00&lt;00:00, 83.75it/s]</span>
Dash is running on http://127.0.0.1:8050/

 * Serving Flask app <span class="s2">&quot;explore_snpToolkit&quot;</span> <span class="o">(</span>lazy loading<span class="o">)</span>
 * Environment: production
 * Running on http://127.0.0.1:8050/ <span class="o">(</span>Press CTRL+C to quit<span class="o">)</span>
</pre></div>
</div>
<p>snptoolkit will analyze all raw data on each VCF file in terms of SNPs and starts a web application that you access using the link mentioned above <a class="reference external" href="http://127.0.0.1:8050">http://127.0.0.1:8050</a>. For this example of 10 vcf files, it took less than a second to analyze all files. Figure 1 shows a screenshot of the generated dashboard to explore your data.</p>
<a class="reference external image-reference" href="3_The_explore_command/Figure1.png"><img alt="3_The_explore_command/Figure1.png" src="_images/Figure1.png" /></a>
<p><strong>Figure1</strong></p>
<p>For sample 5 for example, we can see that the total number of SNPs in the chromosome NC_003143.1 is 399 SNPs. This is the total raw number. Lets detail each column of the first table:</p>
<ul class="simple">
<li><p>If we apply just the depth filter (-d) when using the option annotate (see below), only 10 SNPs will be excluded as they have a coverage less than 3.</p></li>
<li><p>If we consider 20 as a cutoff for the quality of each SNPs, the number drop to 356 SNPs</p></li>
<li><p>If we only consider those that have a ratio (nb reads with mutated allele/total number of reads on that position) ≥ 0.9, the number of SNPs drops to 230.</p></li>
<li><p>If all filters are used: depth ≥3, QUAL ≥20 and ratio≥0.9, the number of filtered SNPs will be equal to 215.</p></li>
</ul>
<p>For the case of <em>Yersinia pestis,</em> there are 3 plasmids. For sample 5, there are SNPs on plasmid NC_003134.1 and NC_003131.1</p>
<p>The first plot in Figure1 shows the distribution of all SNPs based on Ratio (x axis) and Depth (y axis). The size of each circle is proportional to the quality of each SNP. The second plot complement the first plot as it give you an idea about the proportion of SNPs for the chromosome and each of the plasmids. For the chromosome NC_004143.1, we can see that there is a small proportion of SNPs located between 0.2 and 0.4, but most of the SNPs has a high ratio ≥ 0.9.</p>
<p>To hide any of the data presented on each plot, you just need to select the name that you want.</p>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="4_The_annotate_command.html" class="btn btn-neutral float-right" title="4. The annotate command" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="2_snpToolkit_menu.html" class="btn btn-neutral float-left" title="2. snpToolkit menu" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Amine Namouchi

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>